(window.webpackJsonp=window.webpackJsonp||[]).push([[31,5],{389:function(t,e,n){},390:function(t,e,n){},391:function(t,e,n){},392:function(t,e,n){},393:function(t,e,n){},394:function(t,e,n){},395:function(t,e,n){},397:function(t,e,n){"use strict";n.d(e,"a",(function(){return M.a})),n.d(e,"d",(function(){return S.a})),n.d(e,"c",(function(){return L})),n.d(e,"b",(function(){return W}));n(120),n(118),n(11);var r={name:"icon-checkbox",model:{prop:"checked"},props:{checked:{type:Boolean,default:!1},name:String,title:String,icon:String,disabled:Boolean},methods:{updateValue:function(){this.$emit("input",!this.checked)}}},o=n(7),c=(Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"choice",class:{active:t.checked},attrs:{"data-toggle":"wizard-checkbox"},on:{click:t.updateValue}},[e("input",{attrs:{type:"checkbox",name:t.name,disabled:t.disabled},domProps:{checked:t.checked}}),t._v(" "),e("div",{staticClass:"icon"},[t._t("icon",(function(){return[e("i",{class:t.icon})]}))],2),t._v(" "),t._t("title",(function(){return[e("h6",[t._v(t._s(t.title))])]}))],2)}),[],!1,null,null,null).exports,n(125),n(122),n(405)),l=n(9),d=(n(417),n(87),n(411)),f=n.n(d),h={name:"tags-input",components:Object(l.a)({},f.a.name,f.a),props:{value:{type:Array,default:function(){return[]},description:"List of tags"},tagType:{type:String,default:"primary",description:"Tag type (primary|danger etc)"}},model:{prop:"value",event:"change"},data:function(){return{dynamicTags:[],inputVisible:!1,inputValue:""}},methods:{handleClose:function(t){this.dynamicTags.splice(this.dynamicTags.indexOf(t),1),this.$emit("change",this.dynamicTags)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(){t.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var t=this.inputValue;t&&(this.dynamicTags.push(t),this.$emit("change",this.dynamicTags)),this.inputVisible=!1,this.inputValue=""},onInput:function(t){this.$emit("input",t.target.value)}},created:function(){var t=this;this.$watch("value",(function(e){t.dynamicTags=Object(c.a)(e)}),{immediate:!0})}},v=h,m=(n(398),n(399),Object(o.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tags-input__wrapper"},[t._l(t.dynamicTags,(function(n,r){return e("el-tag",{key:n+r,attrs:{size:"small",type:t.tagType,closable:!0,"close-transition":!1},on:{close:function(e){return t.handleClose(n)}}},[t._v("\n    "+t._s(n)+"\n  ")])})),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"saveTagInput",staticClass:"form-control",attrs:{type:"text",placeholder:"Add new tag",size:"mini"},domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value)},t.onInput],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm.apply(null,arguments)},blur:t.handleInputConfirm}})],2)}),[],!1,null,"6bd5f62c",null)),y=(m.exports,n(126),n(117),n(124),n(119),n(121),{name:"base-table",props:{columns:{type:Array,default:function(){return[]},description:"Table columns"},data:{type:Array,default:function(){return[]},description:"Table data"},type:{type:String,default:"",description:"Whether table is striped or hover type"},theadClasses:{type:String,default:"",description:"<thead> css classes"},tbodyClasses:{type:String,default:"",description:"<tbody> css classes"}},computed:{tableClass:function(){return this.type&&"table-".concat(this.type)}},methods:{hasValue:function(t,e){return"undefined"!==t[e.toLowerCase()]},itemValue:function(t,e){return t[e.toLowerCase()]}}}),_=(Object(o.a)(y,(function(){var t=this,e=t._self._c;return e("table",{staticClass:"table tablesorter",class:t.tableClass},[e("thead",{class:t.theadClasses},[e("tr",[t._t("columns",(function(){return t._l(t.columns,(function(n){return e("th",{key:n},[t._v(t._s(n))])}))}),{columns:t.columns})],2)]),t._v(" "),e("tbody",{class:t.tbodyClasses},t._l(t.data,(function(n,r){return e("tr",{key:r},[t._t("default",(function(){return t._l(t.columns,(function(r,o){return t.hasValue(n,r)?e("td",{key:o},[t._v("\n          "+t._s(t.itemValue(n,r))+"\n        ")]):t._e()}))}),{row:n,index:r})],2)})),0)])}),[],!1,null,null,null).exports,n(70),n(116),n(56),{name:"navbar-toggle-button"}),w=(Object(o.a)(_,(function(){this._self._c;return this._m(0)}),[function(){var t=this,e=t._self._c;return e("button",{staticClass:"navbar-toggler collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbar","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-bar bar1"}),t._v(" "),e("span",{staticClass:"navbar-toggler-bar bar2"}),t._v(" "),e("span",{staticClass:"navbar-toggler-bar bar3"})])}],!1,null,null,null).exports,n(162),n(163),n(115),{name:"time-line",props:{type:{type:String,default:""}}}),C=(Object(o.a)(w,(function(){var t=this;return(0,t._self._c)("div",{staticClass:"timeline",class:Object(l.a)({},"timeline-".concat(t.type),t.type)},[t._t("default")],2)}),[],!1,null,null,null).exports,{name:"time-line-item",props:{inverted:Boolean,title:String,badgeType:{type:String,default:"success"},badgeIcon:{type:String,default:""}}}),k=(Object(o.a)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"timeline-block",class:{"timeline-inverted":t.inverted}},[t._t("badge",(function(){return[e("span",{staticClass:"timeline-step",class:"badge-".concat(t.badgeType)},[e("i",{class:t.badgeIcon})])]})),t._v(" "),e("div",{staticClass:"timeline-content"},[t._t("default")],2)],2)}),[],!1,null,null,null).exports,{name:"tab-pane",props:["title","id"],inject:["addTab","removeTab"],data:function(){return{active:!1}},mounted:function(){this.addTab(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeTab(this)}}),x=(Object(o.a)(k,(function(){var t=this;return(0,t._self._c)("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"tab-pane",class:{active:t.active},attrs:{id:t.id||t.title,"aria-expanded":t.active}},[t._t("default")],2)}),[],!1,null,null,null).exports,n(127),{name:"tabs",components:{TabItemContent:{props:["tab"],render:function(t){return t("div",[this.tab.$slots.title||this.tab.title])}}},provide:function(){return{addTab:this.addTab,removeTab:this.removeTab}},props:{type:{type:String,default:"primary",validator:function(t){return-1!==["primary","info","success","warning","danger"].indexOf(t)}},activeTab:{type:String,default:"",description:"Active tab name"},tabNavWrapperClasses:{type:[String,Object],default:"",description:"ul wrapper css classes"},tabNavClasses:{type:[String,Object],default:"",description:"ul css classes"},tabContentClasses:{type:[String,Object],default:"",description:"tab content css classes"},vertical:Boolean,centered:Boolean,value:String},data:function(){return{tabs:[]}},methods:{findAndActivateTab:function(title){var t=this.tabs.find((function(t){return t.title===title}));t&&this.activateTab(t)},activateTab:function(t){this.handleClick&&this.handleClick(t),this.deactivateTabs(),t.active=!0},deactivateTabs:function(){this.tabs.forEach((function(t){t.active=!1}))},addTab:function(t){var e=this.$slots.default.indexOf(t.$vnode);this.activeTab||0!==e||(t.active=!0),this.activeTab===t.name&&(t.active=!0),this.tabs.splice(e,0,t)},removeTab:function(t){var e=this.tabs,n=e.indexOf(t);n>-1&&e.splice(n,1)}},mounted:function(){var t=this;this.$nextTick((function(){t.value&&t.findAndActivateTab(t.value)}))},watch:{value:function(t){this.findAndActivateTab(t)}}}),O=(Object(o.a)(x,(function(){var t=this,e=t._self._c;return e("div",[e("div",{class:[{"col-md-4":t.vertical&&!t.tabNavWrapperClasses},{"col-12":t.centered&&!t.tabNavWrapperClasses},t.tabNavWrapperClasses]},[e("ul",{staticClass:"nav nav-pills",class:["nav-pills-".concat(t.type),{"flex-column":t.vertical},{"justify-content-center":t.centered},t.tabNavClasses],attrs:{role:"tablist"}},t._l(t.tabs,(function(n){return e("li",{key:n.id,staticClass:"nav-item active",attrs:{"data-toggle":"tab",role:"tablist","aria-expanded":"true"}},[e("a",{staticClass:"nav-link",class:{active:n.active},attrs:{"data-toggle":"tab",role:"tablist",href:"#".concat(n.id),"aria-expanded":n.active},on:{click:function(e){return e.preventDefault(),t.activateTab(n)}}},[e("tab-item-content",{attrs:{tab:n}})],1)])})),0)]),t._v(" "),e("div",{staticClass:"tab-content",class:[{"tab-space":!t.vertical},{"col-md-8":t.vertical&&!t.tabContentClasses},t.tabContentClasses]},[t._t("default")],2)])}),[],!1,null,"5be5aadd",null).exports,n(55),{name:"collapse",props:{animationDuration:{type:Number,default:250,description:"Collapse animation duration"},multipleActive:{type:Boolean,default:!0,description:"Whether you can have multiple collapse items opened at the same time"},activeIndex:{type:Number,default:-1,description:"Active collapse item index"}},provide:function(){return{animationDuration:this.animationDuration,multipleActive:this.multipleActive,addItem:this.addItem,removeItem:this.removeItem,deactivateAll:this.deactivateAll}},data:function(){return{items:[]}},methods:{addItem:function(t){var e=this.$slots.default.indexOf(t.$vnode);-1!==e&&this.items.splice(e,0,t)},removeItem:function(t){var e=this.items,n=e.indexOf(t);n>-1&&e.splice(n,1)},deactivateAll:function(){this.items.forEach((function(t){t.active=!1}))},activateItem:function(){-1!==this.activeIndex&&(this.items[this.activeIndex].active=!0)}},mounted:function(){var t=this;this.$nextTick((function(){t.activateItem()}))},watch:{activeIndex:function(){this.activateItem()}}}),j=(Object(o.a)(O,(function(){return(0,this._self._c)("div",{staticClass:"accordion",attrs:{id:"accordion",role:"tablist","aria-multiselectable":"true"}},[this._t("default")],2)}),[],!1,null,"52ec28a9",null).exports,{name:"collapse-item",components:{CollapseTransition:n(28).a},props:{title:{type:String,default:"",description:"Collapse item title"},id:String},inject:{animationDuration:{default:250},multipleActive:{default:!1},addItem:{default:function(){}},removeItem:{default:function(){}},deactivateAll:{default:function(){}}},computed:{itemId:function(){return this.id||this.title}},data:function(){return{active:!1}},methods:{activate:function(){var t=this.active;this.multipleActive||this.deactivateAll(),this.active=!t}},mounted:function(){this.addItem(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeItem(this)}}),P=Object(o.a)(j,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{role:"tab","aria-expanded":t.active}},[e("a",{attrs:{"data-toggle":"collapse","data-parent":"#accordion",href:"#".concat(t.itemId),"aria-controls":"content-".concat(t.itemId)},on:{click:function(e){return e.preventDefault(),t.activate.apply(null,arguments)}}},[t._t("title",(function(){return[t._v(" "+t._s(t.title)+" ")]})),t._v(" "),e("i",{staticClass:"tim-icons icon-minimal-down"})],2)]),t._v(" "),e("collapse-transition",{attrs:{duration:t.animationDuration}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"collapsed",attrs:{id:"content-".concat(t.itemId),role:"tabpanel","aria-labelledby":t.title}},[e("div",{staticClass:"card-body"},[t._t("default")],2)])])],1)}),[],!1,null,null,null),S=(P.exports,n(57)),I=(n(33),n(22),n(27),n(39),n(40),n(418)),T=n.n(I);function $(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var A={name:"base-slider",props:{value:{type:[String,Array,Number],description:"slider value"},disabled:{type:Boolean,default:!1,description:"whether the slider is disabled"},start:{type:[Number,Array],default:0,description:"[noUi Slider start](https://refreshless.com/nouislider/slider-options/#section-start)"},connect:{type:[Boolean,Array],default:function(){return[!0,!1]},description:"[noUi Slider connect](https://refreshless.com/nouislider/slider-options/#section-connect)"},range:{type:Object,default:function(){return{min:0,max:100}},description:"[noUi Slider range](https://refreshless.com/nouislider/slider-values/#section-range)"},options:{type:Object,default:function(){return{}},description:"[noUi Slider options](https://refreshless.com/nouislider/slider-options/)"}},data:function(){return{slider:null}},methods:{createSlider:function(){var t=this;T.a.create(this.$el,function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({start:this.value||this.start,connect:!!Array.isArray(this.value)||this.connect,range:this.range},this.options));var e=this.$el.noUiSlider;e.on("slide",(function(){var n=e.get();n!==t.value&&t.$emit("input",n)}))}},mounted:function(){this.createSlider()},watch:{value:function(t,e){var n=this.$el.noUiSlider,r=n.get();t!==e&&r!==t&&(Array.isArray(r)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,i){return e===t[i]}))&&n.set(t):n.set(t))}}},N=A,D=(Object(o.a)(N,(function(){return(0,this._self._c)("div",{staticClass:"slider",attrs:{disabled:this.disabled}})}),[],!1,null,null,null).exports,n(419),n(420)),V=n.n(D);n(4).default.use(V.a.directive);var R={},L=(n(400),Object(o.a)(R,(function(){return(0,this._self._c)("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"row",attrs:{id:"loading"}})}),[],!1,null,null,null).exports),E={inheritAttrs:!1,components:{WorldMap:function(){return{component:Promise.resolve().then(n.bind(null,239)),loading:L,delay:200}}}},M=(n(401),Object(o.a)(E,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"world-map-container"},[e("world-map",t._g(t._b({},"world-map",t.$attrs,!1),t.$listeners))],1)}),[],!1,null,null,null).exports,n(123)),U=(n(161),{layout:"DashboardLayout",middleware:["isAuthenticated","checkAdmin"],components:{Modal:S.a},props:{datas:{type:Array,default:[]}},data:function(){var t;return t={activeIndex:null,dialogVisible:!1,dialogVisible1:!1,content:"",content1:"",popv:!0,popi:!0,popp:!0,model:{},link:"",obj:null,se:!0,field:[],files:[],link1:"",obj1:null,videoname:"",pdfname:""},Object(l.a)(t,"link",""),Object(l.a)(t,"obj",null),Object(l.a)(t,"data",{title:"",pdf:"",language:"EN",video:"",thumbnail:"",date:"",dateId:"",id:"",desc:""}),Object(l.a)(t,"data1",{title:"",pdf:"",language:"AS",video:"",thumbnail:"",date:"",dateId:"",id:"",desc:""}),Object(l.a)(t,"videos",null),Object(l.a)(t,"assame",""),Object(l.a)(t,"data2",[]),Object(l.a)(t,"swiper",null),Object(l.a)(t,"player",null),Object(l.a)(t,"art",[]),Object(l.a)(t,"coll",""),Object(l.a)(t,"id",""),Object(l.a)(t,"type","image"),Object(l.a)(t,"ind",0),Object(l.a)(t,"editor",null),Object(l.a)(t,"selectedText",null),Object(l.a)(t,"comments",[]),Object(l.a)(t,"o_comments",[]),Object(l.a)(t,"comment",""),Object(l.a)(t,"sin",!1),t},methods:{open:function(t,e){var n=this;fetch(t).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.blob()})).then((function(t){var r=window.URL.createObjectURL(t),a=document.createElement("a");switch(a.style.display="none",a.href=r,e){case"image":a.download="casehistory_".concat(n.$route.params.name,".jpg");break;case"pdf":a.download="casehistory_".concat(n.$route.params.name,".pdf");break;case"video":a.download="casehistory_".concat(n.$route.params.name,".mp4");break;default:a.download="downloaded-file"}document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)})).catch((function(t){}))},open1:function(t,e,n,r){this.art=t,this.coll=e.collectionId,this.id=e.id,this.dialogVisible=!0,this.swiper=null,this.player=null,this.type=r,this.ind=n,"image"==r&&(this.swiper=new Swiper(".swiper",{loop:!1,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},autoplay:!1,slidesPerView:1,spaceBetween:10,initialSlide:n})),"video"==r&&(this.player=new Plyr("#player"))},_download:function(t){var e=this,n=this.type;fetch(t).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.blob()})).then((function(t){var r=window.URL.createObjectURL(t),a=document.createElement("a");switch(a.style.display="none",a.href=r,n){case"image":a.download="casehistory_".concat(e.$route.params.name,".jpg");break;case"pdf":a.download="casehistory_".concat(e.$route.params.name,".pdf");break;case"video":a.download="casehistory_".concat(e.$route.params.name,".mp4");break;default:a.download="downloaded-file"}document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)})).catch((function(t){}))},toggleMedia:function(t){this.activeIndex=this.activeIndex===t?null:t},backa:function(){history.back()},close:function(t){1==t&&(this.popv=!this.popv),2==t&&(this.popp=!this.popp)},go11:function(t){1==t&&(this.popv=!this.popv),2==t&&(this.popp=!this.popp)},_prev:function(){this.ind>0&&this.ind--},_next:function(){this.ind<this.art.length&&this.ind++}},mounted:function(){}}),W=(n(402),n(403),n(404),Object(o.a)(U,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",[e("div",{staticClass:"main"},t._l(t.datas,(function(i,n){var r;return e("div",{key:n,staticClass:"boxiii mt-3",staticStyle:{width:"96%",margin:"0 auto"}},[e("div",{staticClass:"w100"},[e("h5",{staticStyle:{width:"100%"}},[t._v(t._s(i.date))]),t._v(" "),e("h5",{staticStyle:{width:"100%"}},[t._v(t._s(null!==(r=i.name)&&void 0!==r?r:""))])]),t._v(" "),e("div",{staticClass:"w100"},[e("h5",{staticStyle:{width:"200px",cursor:"pointer"},on:{click:function(e){return t.toggleMedia(n)}}},[t._v("\n            "+t._s(t.activeIndex==n?"Hide medical records":"View medical records")+"\n          ")])]),t._v(" "),e("div",{staticClass:"hidme",style:{height:t.activeIndex===n?"auto":"0",overflow:"hidden"}},[0!=i.images.length?e("div",{staticClass:"w100 row",staticStyle:{display:"flex","flex-wrap":"wrap",gap:"10px"}},[e("h6",{staticStyle:{width:"100%"}},[t._v("Images")]),t._v(" "),t._l(i.images,(function(p,n){return e("div",{key:n,staticStyle:{overflow:"hidden",display:"flex","flex-wrap":"wrap",width:"15rem"}},[e("div",{staticClass:"imgwrap1"},[e("img",{staticStyle:{width:"100%",height:"auto","object-fit":"cover"},attrs:{src:"https://api.kktel.org/api/files/".concat(i.collectionId,"/").concat(i.id,"/").concat(p)}}),t._v(" "),e("button",{staticClass:"btn btn-sm btn-primary mt-2",attrs:{type:"button"},on:{click:function(e){return t.open("https://api.kktel.org/api/files/".concat(i.collectionId,"/").concat(i.id,"/").concat(p),"image")}}},[e("i",{staticClass:"fa fa-download"})]),t._v(" "),e("button",{staticClass:"btn btn-sm btn-primary mt-2",attrs:{type:"button"},on:{click:function(e){return t.open1(i.images,i,n,"image")}}},[e("i",{staticClass:"fa fa-eye"})])])])}))],2):t._e(),t._v(" "),0!=i.video.length?e("div",{staticClass:"w100",staticStyle:{display:"flex","flex-wrap":"wrap",gap:"10px"}},[e("h6",{staticStyle:{width:"100%"}},[t._v("Video")]),t._v(" "),t._l(i.video,(function(p,n){return e("div",{key:n,staticStyle:{width:"15rem",overflow:"hidden",display:"flex","flex-wrap":"wrap"}},[e("div",{staticClass:"imgwrap1"},[e("video",{staticStyle:{width:"100%",height:"auto"},attrs:{src:"https://api.kktel.org/api/files/".concat(i.collectionId,"/").concat(i.id,"/").concat(p),controls:""}}),t._v(" "),e("button",{staticClass:"btn btn-sm btn-primary mt-2",attrs:{type:"button"},on:{click:function(e){return t.open("https://api.kktel.org/api/files/".concat(i.collectionId,"/").concat(i.id,"/").concat(p),"image")}}},[e("i",{staticClass:"fa fa-download"})]),t._v(" "),e("button",{staticClass:"btn btn-sm btn-primary mt-2",attrs:{type:"button"},on:{click:function(e){return t.open1(i.video,i,n,"video")}}},[e("i",{staticClass:"fa fa-eye"})])])])}))],2):t._e(),t._v(" "),0!=i.pdf.length?e("div",{staticClass:"w100",staticStyle:{display:"flex","flex-wrap":"wrap",gap:"10px"}},[e("h6",{staticStyle:{width:"100%"}},[t._v("Pdf")]),t._v(" "),t._l(i.pdf,(function(p,n){return e("div",{key:n,staticStyle:{width:"15rem",overflow:"hidden",display:"flex","flex-wrap":"wrap"}},[e("div",{staticClass:"imgwrap1"},[e("iframe",{staticStyle:{width:"100%",height:"auto"},attrs:{src:"https://api.kktel.org/api/files/".concat(i.collectionId,"/").concat(i.id,"/").concat(p)+"#toolbar=0",frameborder:"0"}}),t._v(" "),e("button",{staticClass:"btn btn-sm btn-primary mt-2",attrs:{type:"button"},on:{click:function(e){return t.open("https://api.kktel.org/api/files/".concat(i.collectionId,"/").concat(i.id,"/").concat(p),"pdf")}}},[e("i",{staticClass:"fa fa-download"})]),t._v(" "),e("button",{staticClass:"btn btn-sm btn-primary mt-2",attrs:{type:"button"},on:{click:function(e){return t.open1(i.pdf,i,n,"pdf")}}},[e("i",{staticClass:"fa fa-eye"})])])])}))],2):t._e(),t._v(" "),0==i.video.length&&0==i.images.length&&0==i.pdf.length?e("div",{staticClass:"w100"},[e("h6",[t._v("No Media Found!")])]):t._e()]),t._v(" "),e("div",{staticClass:"row-container"},[e("div",{staticClass:"text-editor",domProps:{innerHTML:t._s(i.data[0].desc)}})])])})),0)]),t._v(" "),e("modal",{attrs:{show:t.dialogVisible,size:"lg"},on:{"update:show":function(e){t.dialogVisible=e}}},["image"==t.type?e("h6",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[e("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(e){return t._download("https://api.kktel.org/api/files/".concat(t.coll,"/").concat(t.id,"/").concat(t.art[t.swiper.realIndex]))}}},[e("i",{staticClass:"fa fa-download"})])]):t._e(),t._v(" "),"image"==t.type?e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"swiper"},[e("div",{staticClass:"swiper-wrapper"},t._l(t.art,(function(n){return e("div",{key:n,staticClass:"swiper-slide"},[e("img",{staticClass:"imgh",staticStyle:{width:"100%","object-fit":"contain"},attrs:{src:"https://api.kktel.org/api/files/".concat(t.coll,"/").concat(t.id,"/").concat(n)}})])})),0),t._v(" "),e("div",{staticClass:"swiper-button-prev"}),t._v(" "),e("div",{staticClass:"swiper-button-next"})])]):t._e(),t._v(" "),"pdf"==t.type?e("h6",{staticClass:"modal-title d-flex",attrs:{slot:"header"},slot:"header"},[e("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(e){return t._download("https://api.kktel.org/api/files/".concat(t.coll,"/").concat(t.id,"/").concat(t.art[t.ind]))}}},[e("i",{staticClass:"fa fa-download"})]),t._v(" "),t.art.length>1?e("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",disabled:0==t.ind},on:{click:function(e){return t._prev()}}},[t._v("\n        Prev\n      ")]):t._e(),t._v(" "),t.art.length>1?e("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",disabled:t.ind==t.art.length-1},on:{click:function(e){return t._next()}}},[t._v("\n        Next\n      ")]):t._e()]):t._e(),t._v(" "),"pdf"==t.type?e("div",{staticClass:"col-md-12",staticStyle:{overflow:"hidden"}},[e("iframe",{attrs:{src:"https://api.kktel.org/api/files/".concat(t.coll,"/").concat(t.id,"/").concat(t.art[t.ind]),width:"100%",height:"700px"}})]):t._e(),t._v(" "),"video"==t.type?e("h6",{staticClass:"modal-title d-flex",attrs:{slot:"header"},slot:"header"},[e("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(e){return t._download("https://api.kktel.org/api/files/".concat(t.coll,"/").concat(t.id,"/").concat(t.art[t.ind]))}}},[e("i",{staticClass:"fa fa-download"})]),t._v(" "),t.art.length>1?e("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",disabled:0==t.ind},on:{click:function(e){return t._prev()}}},[t._v("\n        Prev\n      ")]):t._e(),t._v(" "),t.art.length>1?e("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",disabled:t.ind==t.art.length-1},on:{click:function(e){return t._next()}}},[t._v("\n        Next\n      ")]):t._e()]):t._e(),t._v(" "),"video"==t.type?e("div",{staticClass:"col-md-12",staticStyle:{overflow:"hidden"}},[e("video",{attrs:{id:"player",controls:"",width:"100%"}},[e("source",{attrs:{src:"https://api.kktel.org/api/files/".concat(t.coll,"/").concat(t.id,"/").concat(t.art[t.ind]),type:"video/mp4"}})])]):t._e()])],1)}),[],!1,null,"b8e2e690",null).exports)},398:function(t,e,n){"use strict";n(389)},399:function(t,e,n){"use strict";n(390)},400:function(t,e,n){"use strict";n(391)},401:function(t,e,n){"use strict";n(392)},402:function(t,e,n){"use strict";n(393)},403:function(t,e,n){"use strict";n(394)},404:function(t,e,n){"use strict";n(395)},463:function(t,e,n){},464:function(t,e,n){},566:function(t,e,n){"use strict";n(463)},567:function(t,e,n){"use strict";n(464)},647:function(t,e,n){"use strict";n.r(e);n(20),n(44),n(33),n(22),n(27),n(39),n(40);var r,o=n(405),c=(n(243),n(87),n(165)),l=n.n(c),d=n(10),f=n(9),h=(n(421),n(422)),v=n.n(h),m=(n(423),n(424)),y=n.n(m),_=(n(406),n(407)),w=n.n(_),C=(n(408),n(409)),k=n.n(C),x=(n(36),n(11),n(72),n(45),n(71),n(62),n(166),n(17)),O=n(115),j=n(397);n(416);function P(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function S(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(e){Object(f.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var I={layout:"DashboardLayout",middleware:["isAuthenticated","checkAdmin"],components:(r={BasePagination:j.a,RouteBreadCrumb:O.a},Object(f.a)(r,k.a.name,k.a),Object(f.a)(r,w.a.name,w.a),Object(f.a)(r,y.a.name,y.a),Object(f.a)(r,v.a.name,v.a),Object(f.a)(r,"Modal",j.d),r),computed:{to:function(){var t=this.from+this.pagination.perPage;return this.total<t&&(t=this.total),t},from:function(){return this.pagination.perPage*(this.pagination.currentPage-1)}},data:function(){return{pagination:{perPage:10,currentPage:1,perPageOptions:[10],total:0},searchQuery:"",tableColumns:[{prop:"patientID",label:"patientID",minWidth:200,sortable:!0},{prop:"fullName",label:"fullName",minWidth:200,sortable:!0},{prop:"phone",label:"phone",minWidth:200,sortable:!0},{prop:"sex",label:"Gender",minWidth:200,sortable:!0},{prop:"age",label:"age",minWidth:200,sortable:!0}],tableData:[],selectedRows:[],keys:0,total:0,lock:!1,total1:0,currentPage:1,tableData1:[],otp:"",otp1:1111,showModal:!1,obj:null,isView:!1,sin:!1}},methods:{_back:function(){this.$router.replace("/")},goto:function(){window.open(this.$router.resolve("/AddPatient").href,"_blank")},Disease:function(t,e){this.otp="",this.obj=e,0==e.permission?this.showModal=!0:this._verify()},_view:function(t){var e=this;return Object(d.a)(regeneratorRuntime.mark((function n(){var r,o,c,d,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.otp="",e.obj=t,e.isView=!0,0!=t.permission){n.next=21;break}return r=x.c,o="".concat(r,"/api/sendOTP"),c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:t.phone.trim()})},n.prev=7,n.next=10,fetch(o,c);case 10:return d=n.sent,n.next=13,d.json();case 13:f=n.sent,d.ok?(l()({showClose:!0,message:"OTP send Successfully!",type:"success"}),e.showModal=!0):l()({showClose:!0,message:"".concat(f.message),type:"error"}),n.next=19;break;case 17:n.prev=17,n.t0=n.catch(7);case 19:n.next=22;break;case 21:e._verify();case 22:case"end":return n.stop()}}),n,null,[[7,17]])})))()},_verify:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.obj.permission){e.next=4;break}if(""!=t.otp.trim()){e.next=4;break}return l()({showClose:!0,message:"OTP is required!",type:"error"}),e.abrupt("return");case 4:if(t.sin=!0,0!=t.obj.permission){e.next=21;break}return e.prev=6,e.next=9,x.a.collection("otp").getFirstListItem('phone="'.concat(t.obj.phone.trim(),'" && otp="').concat(t.otp,'"'));case 9:return n=e.sent,e.next=12,x.a.collection("otp").delete(n.id);case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(6),t.sin=!1,l()({showClose:!0,message:"Invalid OTP!",type:"error"}),e.abrupt("return");case 19:return e.next=21,x.a.collection("userCollection").update(t.obj.id,{permission:!0});case 21:r=t.obj.patientID,t.showModal=!1,0==t.isView?(o="/Disease/".concat(r),window.open(t.$router.resolve(o).href,"_blank"),t.sin=!1):(c="/ViewPatient?id=".concat(t.obj.id),t.isView=!1,window.open(t.$router.resolve(c).href,"_blank"),t.sin=!1);case 24:case"end":return e.stop()}}),e,null,[[6,14]])})))()},getData:function(t){var e=this;return Object(d.a)(regeneratorRuntime.mark((function n(){var r,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=e).path1=x.c,n.next=4,x.a.collection("userCollection").getList(t,10,{sort:"-created",filter:'coordinators.id ?= "'.concat(r.$store.state.cid,'"')});case 4:return c=n.sent,r.tableData=c.items.map((function(i){return S(S({},i),{},{fullName:"".concat(i.firstName," ").concat(i.lastName)})})),r.total=c.totalItems,r.total1=c.totalItems,r.currentPage=r.pagination.currentPage,r.tableData1=Object(o.a)(r.tableData),n.next=12,x.a.collection("userCollection").subscribe("*",(function(t){t.record.coordinators.includes(r.$store.state.cid)&&r.reflx(t)}));case 12:case"end":return n.stop()}}),n)})))()},reflx:function(t){var e=this,n=e.tableData;e.tableData=[];var r=n.findIndex((function(a){return a.id==t.record.id}));if(e.keys++,-1!=r&&"update"==t.action){var o=t.record;o.fullName="".concat(t.record.firstName," ").concat(t.record.lastName),n[r]=o}else if("create"==t.action){var c=t.record;c.fullName="".concat(t.record.firstName," ").concat(t.record.lastName),n.unshift(c)}e.tableData=n},_change:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t).pagination.currentPage!=n.currentPage&&n.getData(n.pagination.currentPage);case 2:case"end":return e.stop()}}),e)})))()},_search:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==(n=t).searchQuery.trim()||0!=n.lock){e.next=11;break}return n.lock=!0,e.next=5,x.a.collection("userCollection").getList(1,10,{sort:"-created",filter:'(phone~"'.concat(n.searchQuery,'" || patientID~"').concat(n.searchQuery,'" || firstName~"').concat(n.searchQuery,'" || lastName~"').concat(n.searchQuery,'") && coordinators.id ?= "').concat(n.$store.state.cid,'"')});case 5:r=e.sent,n.tableData=r.items.map((function(i){return S(S({},i),{},{fullName:"".concat(i.firstName," ").concat(i.lastName)})})),n.total=r.totalItems,setTimeout((function(){n.lock=!1}),2e3),e.next=14;break;case 11:n.tableData=Object(o.a)(n.tableData1),n.pagination.currentPage=n.currentPage,n.total=n.total1;case 14:case"end":return e.stop()}}),e)})))()},_clear:function(){var t=this;t.searchQuery="",t.tableData=Object(o.a)(t.tableData1),t.pagination.currentPage=t.currentPage,t.total=t.total1}},mounted:function(){this.getData(1)}},T=(n(566),n(567),n(7)),component=Object(T.a)(I,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("base-header",{staticClass:"pb-6"},[e("div",{staticClass:"row align-items-center py-4"},[e("div",{staticClass:"col-lg-12 col-12 d-flex"},[e("button",{staticClass:"btn btn-sm btm-primary",attrs:{type:"button"},on:{click:function(e){return t._back()}}},[e("i",{staticClass:"fa fa-arrow-left text-white",staticStyle:{"font-size":"19px"}})]),t._v(" "),e("h6",{staticClass:"h2 text-white mt-1"},[t._v("Patients List")])]),t._v(" "),e("div",{staticClass:"bt"},[e("button",{staticClass:"btn btn-success",staticStyle:{border:"1px solid white"},attrs:{type:"button"},on:{click:function(e){return t.goto()}}},[t._v("\n          Add New Patient\n        ")])])])]),t._v(" "),e("div",{key:t.keys,staticClass:"container-fluid mt--6"},[e("div",[e("card",{staticClass:"no-border-card",attrs:{"body-classes":"px-0 pb-1","footer-classes":"pb-2"}},[e("div",[e("div",{staticClass:"col-12 d-flex justify-content-center justify-content-sm-between flex-wrap"},[e("el-select",{staticClass:"select-primary pagination-select col-md-2 mt-1",attrs:{placeholder:"Per page"},model:{value:t.pagination.perPage,callback:function(e){t.$set(t.pagination,"perPage",e)},expression:"pagination.perPage"}},t._l(t.pagination.perPageOptions,(function(t){return e("el-option",{key:t,staticClass:"select-primary",attrs:{label:t,value:t}})})),1),t._v(" "),e("div",{staticClass:"d-flex col-md-4 flex-end"},[e("div",{staticClass:"col-md-8 mt-1"},[e("base-input",{attrs:{placeholder:"Search..."},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1),t._v(" "),e("button",{staticClass:"btn btn-sm",staticStyle:{height:"2.8rem","margin-top":"3px"},attrs:{type:"button"},on:{click:function(e){return t._search()}}},[t._v("\n                Apply\n              ")]),t._v(" "),""!=t.searchQuery?e("button",{staticClass:"btn btn-sm",staticStyle:{height:"2.8rem","margin-top":"3px"},attrs:{type:"button"},on:{click:function(e){return t._clear()}}},[t._v("\n                clear\n              ")]):t._e()])],1),t._v(" "),e("el-table",{attrs:{data:t.tableData,"row-key":"id","header-row-class-name":"thead-light"}},[t._l(t.tableColumns,(function(n){return e("el-table-column",t._b({key:n.label},"el-table-column",n,!1))})),t._v(" "),e("el-table-column",{attrs:{"min-width":"180px",align:"right",label:"Action"},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.$index,o=n.row;return e("div",{staticClass:"d-flex"},[e("base-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"success"},nativeOn:{click:function(e){return t._view(o)}}},[t._v("\n                  View\n                ")]),t._v(" "),e("base-button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"success",size:"sm",icon:""},nativeOn:{click:function(e){return t.Disease(r,o)}}},[t._v("\n                  Proceed\n                ")])],1)}}])})],2)],1),t._v(" "),e("div",{staticClass:"col-12 d-flex justify-content-center justify-content-sm-between flex-wrap",attrs:{slot:"footer"},slot:"footer"},[e("div",{},[e("p",{staticClass:"card-category"},[t._v("\n              Showing "+t._s(t.from+1)+" to "+t._s(t.to)+" of "+t._s(t.total)+" entries\n\n              "),t.selectedRows.length?e("span",[t._v("\n                    "+t._s(t.selectedRows.length)+" rows selected\n              ")]):t._e()])]),t._v(" "),e("base-pagination",{staticClass:"pagination-no-border",attrs:{"per-page":t.pagination.perPage,total:t.total},on:{input:t._change},model:{value:t.pagination.currentPage,callback:function(e){t.$set(t.pagination,"currentPage",e)},expression:"pagination.currentPage"}})],1)])],1)]),t._v(" "),e("modal",{attrs:{show:t.showModal},on:{"update:show":function(e){t.showModal=e}}},[e("h6",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v("OTP Verification")]),t._v(" "),e("base-input",{attrs:{label:"OTP",placeholder:"Enter OTP"},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}}),t._v(" "),e("template",{slot:"footer"},[0==t.sin?e("button",{staticClass:"btn btn-primary d-flex",on:{click:function(e){return t._verify()}}},[t._v("\n        Verify OTP\n      ")]):e("button",{staticClass:"btn btn-primary d-flex"},[e("p",{staticClass:"spinner mr-3"}),t._v("\n        Verifying ..\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-danger",on:{click:function(e){t.showModal=!1}}},[t._v("\n        Cancel\n      ")])])],2)],1)}),[],!1,null,"9e15977e",null);e.default=component.exports}}]);